{"ast":null,"code":"var _process$env$REACT_AP, _process$env$REACT_AP2, _process$env$REACT_AP3;\n\nimport axios from 'axios';\nimport qs from 'qs';\nexport const BASE_URL = (_process$env$REACT_AP = process.env.REACT_APP_BACKEND_URL) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : 'http://localhost:8080';\nconst CLIENT_ID = (_process$env$REACT_AP2 = process.env.REACT_APP_CLIENT_ID) !== null && _process$env$REACT_AP2 !== void 0 ? _process$env$REACT_AP2 : 'dscatalog';\nconst CLIENT_SECRET = (_process$env$REACT_AP3 = process.env.REACT_APP_CLIENT_SECRET) !== null && _process$env$REACT_AP3 !== void 0 ? _process$env$REACT_AP3 : 'dscatalog123';\n\nconst basicHeader = () => 'Basic ' + window.btoa(CLIENT_ID + ':' + CLIENT_SECRET);\n\nexport const requestBackendLogin = loginData => {\n  const headers = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    Authorization: basicHeader()\n  };\n  const data = qs.stringify({ ...loginData,\n    grant_type: 'password'\n  });\n  return axios({\n    method: 'POST',\n    baseURL: BASE_URL,\n    url: '/oauth/token',\n    data,\n    headers\n  });\n};","map":{"version":3,"names":["axios","qs","BASE_URL","process","env","REACT_APP_BACKEND_URL","CLIENT_ID","REACT_APP_CLIENT_ID","CLIENT_SECRET","REACT_APP_CLIENT_SECRET","basicHeader","window","btoa","requestBackendLogin","loginData","headers","Authorization","data","stringify","grant_type","method","baseURL","url"],"sources":["C:/Users/centr/Documents/Materiais de Estudo/ProjetoReact/frontweb/src/util/requests.ts"],"sourcesContent":["import axios from 'axios';\r\nimport qs from 'qs';\r\n\r\ntype LoginResponse = {\r\n    \"access_token\": string;\r\n    \"token_type\": string;\r\n    \"expires_in\": number;\r\n    \"scope\": string;\r\n    \"userFirstName\": string;\r\n    \"userId\": 2\r\n}\r\n\r\nexport const BASE_URL = process.env.REACT_APP_BACKEND_URL ?? 'http://localhost:8080';\r\n\r\nconst CLIENT_ID = process.env.REACT_APP_CLIENT_ID ??'dscatalog';\r\nconst CLIENT_SECRET = process.env.REACT_APP_CLIENT_SECRET ??'dscatalog123';\r\n\r\nconst basicHeader = () => 'Basic ' + window.btoa(CLIENT_ID + ':' + CLIENT_SECRET)\r\n\r\ntype LoginData = {\r\n    username:string;\r\n    password:string;\r\n}\r\n\r\nexport const requestBackendLogin = (loginData : LoginData) => {\r\n\r\n    const headers = {\r\n        'Content-Type' : 'application/x-www-form-urlencoded',\r\n         Authorization: basicHeader()\r\n    }\r\n\r\n    const data = qs.stringify ({\r\n        ...loginData,\r\n        grant_type: 'password'\r\n\r\n    });\r\n    return axios ({method: 'POST',baseURL: BASE_URL, url: '/oauth/token', data, headers});\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AAWA,OAAO,MAAMC,QAAQ,4BAAGC,OAAO,CAACC,GAAR,CAAYC,qBAAf,yEAAwC,uBAAtD;AAEP,MAAMC,SAAS,6BAAGH,OAAO,CAACC,GAAR,CAAYG,mBAAf,2EAAqC,WAApD;AACA,MAAMC,aAAa,6BAAGL,OAAO,CAACC,GAAR,CAAYK,uBAAf,2EAAyC,cAA5D;;AAEA,MAAMC,WAAW,GAAG,MAAM,WAAWC,MAAM,CAACC,IAAP,CAAYN,SAAS,GAAG,GAAZ,GAAkBE,aAA9B,CAArC;;AAOA,OAAO,MAAMK,mBAAmB,GAAIC,SAAD,IAA2B;EAE1D,MAAMC,OAAO,GAAG;IACZ,gBAAiB,mCADL;IAEXC,aAAa,EAAEN,WAAW;EAFf,CAAhB;EAKA,MAAMO,IAAI,GAAGhB,EAAE,CAACiB,SAAH,CAAc,EACvB,GAAGJ,SADoB;IAEvBK,UAAU,EAAE;EAFW,CAAd,CAAb;EAKA,OAAOnB,KAAK,CAAE;IAACoB,MAAM,EAAE,MAAT;IAAgBC,OAAO,EAAEnB,QAAzB;IAAmCoB,GAAG,EAAE,cAAxC;IAAwDL,IAAxD;IAA8DF;EAA9D,CAAF,CAAZ;AACH,CAbM"},"metadata":{},"sourceType":"module"}